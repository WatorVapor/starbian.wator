<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Wator Lambda</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:100,600">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  </head>
  <body>
    <div class="container-fluid">
      <div class="row mt-lg-2 justify-content-center">
        <div class="col-10 text-center">
          <h2>Exchange Public Key of <i>THIS</i> Browser And Remote Device</h2>
        </div>
      </div>
      <div class="row mt-lg-2 justify-content-center">
        <div class="col-5">
          <div class="card card-default text-center bg-secondary">
            <div class="card-header">
              Public ECDSA Key
            </div>
            <div class="card-body">
              <pre class="card-text text-success" id="text-this-device-key" style="white-space: pre-wrap ; font-size: x-large;">
                {{ pub_key }}
              </pre>
              <button type="button" class="btn btn-primary btn-sm mt-sm-1 pull-right btn-clipboard" id="btn-copy-key" data-clipboard-target="#text-this-device-key">
                <i class="fas fa-copy"></i>
              </button>
              <button type="button" class="btn btn-success btn-sm mt-sm-1 pull-right" id="btn-qrcode-key" onclick="onQRCodePubKey(this)">
                <i class="fas fa-print"></i><i class="fas fa-qrcode"></i>
              </button>
              <br/>
              <button type="button" class="btn btn-warning btn-sm pull-left mt-sm-3" id="btn-share-key" onclick="onSharedPubKey(this)">
                <i class="material-icons">dialpad</i><i class="material-icons">share</i>
              </button>
              <h3 class="ml-lg-3 pull-left bg-success text-danger d-none" id="text-share-key-onetime-password">8182</h3>
              <div class="progress mr-lg-3 d-none" id="top-share-key-onetime-progress">
                <div id="text-share-key-onetime-progress" class="progress-bar progress-bar-striped progress-bar-animated " 
                    role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                  100
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-5">
          <div class="card card-default text-center bg-info">
            <div class="card-header">
              Remote Device ECDSA Public key
            </div>
            <div class="card-body">
              <textarea class="form-control input-sm" id="text-remote-device-key" rows="5" ></textarea>
              <br/>
              <p class="d-none pull-left bg-warning" id="text-share-key-onetime-password-verified-counter"></p>
              <button type="button" class="btn btn-success btn-sm pull-right" id="btn-add-key" onclick="onAddRemoteKey(this)">
                <i class="fas fa-plus-circle"></i>
              </button>
              <button type="button" class="btn btn-warning btn-sm pull-right" id="btn-read-qrcode" onclick="onReadQRCode(this)">
                <i class="fas fa-camera-retro"></i>
                <i class="fas fa-qrcode"></i>
              </button>
            </div>
            <div class="card-body">
              <div class="input-group mb-xs-1">
                <input type="text" class="form-control" placeholder="password show on remote device" aria-label="one time password" aria-describedby="button-addon2">
                <div class="input-group-append">
                  <button class="btn btn-danger btn-sm" type="button" onclick="onSearchPubKey(this)" id="button-addon2"><i class="material-icons">search</i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row mt-lg-2 justify-content-center">
        <div id="qrcode-pubkey"></div>
        <div class="preview-container">
          <video id="qrcode-preview"></video>
        </div>
      </div>
      
      <hr/>
    
      <div class="row mt-lg-1 justify-content-center">
        <div class="col-10 text-center">
          <h1>Binding Device</h1>
        </div>
        <div class="col-10" id="vue-ui-remote-device-keys">
          <div class="row mt-lg-1 justify-content-center" v-for="remote in remoteDeviceKeys">
            <div class="card card-default text-center">
              <div class="card-body">
                <h6 class="card-title"><small class="remote-key">{{ remote.key }}</small></h6>
                <div class="row mt-lg-1 justify-content-center">
                  <div class="col-6">
                    <a type="button" class="btn btn-danger btn-block" onclick="onRemoveRemoteKey(this)">
                      <i class="material-icons">remove_circle</i>
                    </a>
                  </div>
                  <div class="col-6">
                    <a type="button" class="btn btn-danger btn-block" onclick="onQRCodeRemoteKey(this)">
                      <i class="fas fa-qrcode"></i>
                    </a>
                  </div>
                </div>
                <div class="row mt-lg-1 justify-content-center">
                  <div class="qrcode-remote-key"></div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>    
      <hr/>
      <div class="row mt-lg-2 justify-content-center">
        <div class="col-10 text-center">
          <h3>ECDSA Asymmetric Cryptography System Provides Security</h3>
          <h3>(Like Bitcoins)</h3>
          <img class="img-fluid img-thumbnail" src="./ecdsa.png"></img>
        </div>
      </div>
    
    </div>
   
    
    
    
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrsasign/8.0.12/jsrsasign-all-min.js" integrity="sha256-EI1piDYqyKFAy+ykWQZRjH5kkw9eIYE/IahQWg1rXt0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.min.js" integrity="sha256-FtWfRI+thWlNz2sB3SJbwKx5PgMyKIVgwHCTwa3biXc=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js" integrity="sha256-hIvIxeqhGZF+VVeM55k0mJvWpQ6gTkWk3Emc+NmowYA=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/base64-js@1.3.0/base64js.min.js" integrity="sha256-6Nq3ERANZFF5/7q3A7vSDHKttstfHieUf5+eFo9W4I0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/base-58@0.0.1/Base58.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue" type="text/javascript"></script>
    <script src="https://www.wator.xyz/wator/starbian/js/starbian.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js" integrity="sha256-9MzwK2kJKBmsJFdccXoIDDtsbWFh8bjYK/C7UjB1Ay0=" crossorigin="anonymous"></script>
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
    <script type="text/javascript">
      new ClipboardJS('.btn-clipboard');
    </script>
    <script src="./adminKey.js"></script>
  </body>
</html>
